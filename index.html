<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' blob: data:; script-src 'self' 'unsafe-inline' 'unsafe-eval' blob:; worker-src 'self' blob:;">
    <title>Linux Mint WASM</title>
</head>
<body style="background: #222; color: #fff; text-align: center;">

    <h2>Запуск системи...</h2>
    <div id="screen_container" style="display: inline-block; border: 3px solid #00f0ff;">
        <canvas></canvas>
    </div>

    <script src="./libv86.js"></script>

    <script>
    window.onload = function() {
        if (typeof V86Starter === "undefined") {
            document.body.innerHTML += "<h3 style='color:red'>Помилка: libv86.js все ще блокується!</h3>";
            return;
        }

        var emulator = new V86Starter({
            wasm_path: "v86.wasm",
            memory_size: 256 * 1024 * 1024,
            vga_fps: 30,
            screen_container: document.getElementById("screen_container"),
            bios: { url: "seabios.bin" },
            vga_bios: { url: "vgabios.bin" },
            cdrom: { url: "linux.iso" },
            autostart: true,
        });
    };
    </script>
</body>
</html>
